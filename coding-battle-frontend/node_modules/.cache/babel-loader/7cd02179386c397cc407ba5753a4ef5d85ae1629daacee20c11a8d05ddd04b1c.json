{"ast":null,"code":"var _jsxFileName = \"D:\\\\codebattlezz\\\\coding-battle-frontend\\\\src\\\\components\\\\CodeEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport Editor from '@monaco-editor/react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CodeEditor = ({\n  code,\n  language,\n  onChange\n}) => {\n  _s();\n  const editorRef = useRef(null);\n  const [editorError, setEditorError] = useState(false);\n  const languageMap = {\n    'java': 'java',\n    'python': 'python',\n    'cpp': 'cpp',\n    'c': 'c',\n    'javascript': 'javascript'\n  };\n  const handleEditorDidMount = (editor, monaco) => {\n    try {\n      editorRef.current = editor;\n\n      // Configure editor options\n      editor.updateOptions({\n        fontSize: 14,\n        minimap: {\n          enabled: false\n        },\n        scrollBeyondLastLine: false,\n        wordWrap: 'on',\n        lineNumbers: 'on',\n        glyphMargin: false,\n        folding: false,\n        lineDecorationsWidth: 10,\n        lineNumbersMinChars: 3,\n        renderLineHighlight: 'all',\n        selectOnLineNumbers: true,\n        automaticLayout: true\n      });\n\n      // Set up custom key bindings\n      editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter, () => {\n        try {\n          // Trigger run code (parent component should handle this)\n          const event = new CustomEvent('runCode');\n          window.dispatchEvent(event);\n        } catch (error) {\n          console.error('Error dispatching runCode event:', error);\n        }\n      });\n    } catch (error) {\n      console.error('Error mounting editor:', error);\n      setEditorError(true);\n    }\n  };\n  const handleEditorChange = value => {\n    try {\n      if (onChange) {\n        onChange(value || '');\n      }\n    } catch (error) {\n      console.error('Error handling editor change:', error);\n    }\n  };\n  const handleEditorError = error => {\n    console.error('Monaco Editor error:', error);\n    setEditorError(true);\n  };\n\n  // Simple fallback textarea editor\n  const SimpleEditor = () => /*#__PURE__*/_jsxDEV(\"textarea\", {\n    value: code,\n    onChange: e => {\n      try {\n        if (onChange) {\n          onChange(e.target.value);\n        }\n      } catch (error) {\n        console.error('Error in simple editor change:', error);\n      }\n    },\n    style: {\n      width: '100%',\n      height: '100%',\n      fontFamily: 'Monaco, \"Cascadia Code\", \"Roboto Mono\", Consolas, \"Courier New\", monospace',\n      fontSize: '14px',\n      border: '1px solid #ddd',\n      borderRadius: '4px',\n      padding: '10px',\n      resize: 'none',\n      outline: 'none',\n      backgroundColor: '#fff',\n      color: '#333'\n    },\n    placeholder: `Write your ${language} code here...`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n\n  // If there's an editor error, fall back to simple textarea\n  if (editorError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '100%',\n        border: '1px solid #e0e0e0',\n        borderRadius: '4px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '8px',\n          background: '#fff3cd',\n          borderBottom: '1px solid #ffeaa7',\n          fontSize: '0.85rem',\n          color: '#856404'\n        },\n        children: \"Editor failed to load, using fallback mode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: 'calc(100% - 40px)'\n        },\n        children: /*#__PURE__*/_jsxDEV(SimpleEditor, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '100%',\n      border: '1px solid #e0e0e0',\n      borderRadius: '4px'\n    },\n    children: /*#__PURE__*/_jsxDEV(Editor, {\n      height: \"100%\",\n      language: languageMap[language] || 'plaintext',\n      value: code || '',\n      onChange: handleEditorChange,\n      onMount: handleEditorDidMount,\n      theme: \"vs\",\n      options: {\n        selectOnLineNumbers: true,\n        roundedSelection: false,\n        readOnly: false,\n        cursorStyle: 'line',\n        automaticLayout: true,\n        fontSize: 14,\n        fontFamily: 'Monaco, \"Cascadia Code\", \"Roboto Mono\", Consolas, \"Courier New\", monospace',\n        minimap: {\n          enabled: false\n        },\n        scrollBeyondLastLine: false,\n        wordWrap: 'on',\n        lineNumbers: 'on',\n        glyphMargin: false,\n        folding: true,\n        lineDecorationsWidth: 10,\n        lineNumbersMinChars: 3\n      },\n      loading: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '20px',\n          textAlign: 'center',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: '100%'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading editor...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this),\n      onError: handleEditorError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n};\n_s(CodeEditor, \"P9zh8/csvNtoDWAPAoXoDIIAj9U=\");\n_c = CodeEditor;\nexport default CodeEditor;\nvar _c;\n$RefreshReg$(_c, \"CodeEditor\");","map":{"version":3,"names":["React","useRef","useEffect","useState","Editor","jsxDEV","_jsxDEV","CodeEditor","code","language","onChange","_s","editorRef","editorError","setEditorError","languageMap","handleEditorDidMount","editor","monaco","current","updateOptions","fontSize","minimap","enabled","scrollBeyondLastLine","wordWrap","lineNumbers","glyphMargin","folding","lineDecorationsWidth","lineNumbersMinChars","renderLineHighlight","selectOnLineNumbers","automaticLayout","addCommand","KeyMod","CtrlCmd","KeyCode","Enter","event","CustomEvent","window","dispatchEvent","error","console","handleEditorChange","value","handleEditorError","SimpleEditor","e","target","style","width","height","fontFamily","border","borderRadius","padding","resize","outline","backgroundColor","color","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","children","background","borderBottom","onMount","theme","options","roundedSelection","readOnly","cursorStyle","loading","textAlign","display","alignItems","justifyContent","onError","_c","$RefreshReg$"],"sources":["D:/codebattlezz/coding-battle-frontend/src/components/CodeEditor.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport Editor from '@monaco-editor/react';\r\n\r\nconst CodeEditor = ({ code, language, onChange }) => {\r\n  const editorRef = useRef(null);\r\n  const [editorError, setEditorError] = useState(false);\r\n\r\n  const languageMap = {\r\n    'java': 'java',\r\n    'python': 'python',\r\n    'cpp': 'cpp',\r\n    'c': 'c',\r\n    'javascript': 'javascript'\r\n  };\r\n\r\n  const handleEditorDidMount = (editor, monaco) => {\r\n    try {\r\n      editorRef.current = editor;\r\n      \r\n      // Configure editor options\r\n      editor.updateOptions({\r\n        fontSize: 14,\r\n        minimap: { enabled: false },\r\n        scrollBeyondLastLine: false,\r\n        wordWrap: 'on',\r\n        lineNumbers: 'on',\r\n        glyphMargin: false,\r\n        folding: false,\r\n        lineDecorationsWidth: 10,\r\n        lineNumbersMinChars: 3,\r\n        renderLineHighlight: 'all',\r\n        selectOnLineNumbers: true,\r\n        automaticLayout: true\r\n      });\r\n\r\n      // Set up custom key bindings\r\n      editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter, () => {\r\n        try {\r\n          // Trigger run code (parent component should handle this)\r\n          const event = new CustomEvent('runCode');\r\n          window.dispatchEvent(event);\r\n        } catch (error) {\r\n          console.error('Error dispatching runCode event:', error);\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.error('Error mounting editor:', error);\r\n      setEditorError(true);\r\n    }\r\n  };\r\n\r\n  const handleEditorChange = (value) => {\r\n    try {\r\n      if (onChange) {\r\n        onChange(value || '');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error handling editor change:', error);\r\n    }\r\n  };\r\n\r\n  const handleEditorError = (error) => {\r\n    console.error('Monaco Editor error:', error);\r\n    setEditorError(true);\r\n  };\r\n\r\n  // Simple fallback textarea editor\r\n  const SimpleEditor = () => (\r\n    <textarea\r\n      value={code}\r\n      onChange={(e) => {\r\n        try {\r\n          if (onChange) {\r\n            onChange(e.target.value);\r\n          }\r\n        } catch (error) {\r\n          console.error('Error in simple editor change:', error);\r\n        }\r\n      }}\r\n      style={{\r\n        width: '100%',\r\n        height: '100%',\r\n        fontFamily: 'Monaco, \"Cascadia Code\", \"Roboto Mono\", Consolas, \"Courier New\", monospace',\r\n        fontSize: '14px',\r\n        border: '1px solid #ddd',\r\n        borderRadius: '4px',\r\n        padding: '10px',\r\n        resize: 'none',\r\n        outline: 'none',\r\n        backgroundColor: '#fff',\r\n        color: '#333'\r\n      }}\r\n      placeholder={`Write your ${language} code here...`}\r\n    />\r\n  );\r\n\r\n  // If there's an editor error, fall back to simple textarea\r\n  if (editorError) {\r\n    return (\r\n      <div style={{ height: '100%', border: '1px solid #e0e0e0', borderRadius: '4px' }}>\r\n        <div style={{ \r\n          padding: '8px', \r\n          background: '#fff3cd', \r\n          borderBottom: '1px solid #ffeaa7',\r\n          fontSize: '0.85rem',\r\n          color: '#856404'\r\n        }}>\r\n          Editor failed to load, using fallback mode\r\n        </div>\r\n        <div style={{ height: 'calc(100% - 40px)' }}>\r\n          <SimpleEditor />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ height: '100%', border: '1px solid #e0e0e0', borderRadius: '4px' }}>\r\n      <Editor\r\n        height=\"100%\"\r\n        language={languageMap[language] || 'plaintext'}\r\n        value={code || ''}\r\n        onChange={handleEditorChange}\r\n        onMount={handleEditorDidMount}\r\n        theme=\"vs\"\r\n        options={{\r\n          selectOnLineNumbers: true,\r\n          roundedSelection: false,\r\n          readOnly: false,\r\n          cursorStyle: 'line',\r\n          automaticLayout: true,\r\n          fontSize: 14,\r\n          fontFamily: 'Monaco, \"Cascadia Code\", \"Roboto Mono\", Consolas, \"Courier New\", monospace',\r\n          minimap: { enabled: false },\r\n          scrollBeyondLastLine: false,\r\n          wordWrap: 'on',\r\n          lineNumbers: 'on',\r\n          glyphMargin: false,\r\n          folding: true,\r\n          lineDecorationsWidth: 10,\r\n          lineNumbersMinChars: 3\r\n        }}\r\n        loading={\r\n          <div style={{ \r\n            padding: '20px', \r\n            textAlign: 'center',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            height: '100%'\r\n          }}>\r\n            <div>Loading editor...</div>\r\n          </div>\r\n        }\r\n        onError={handleEditorError}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CodeEditor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}